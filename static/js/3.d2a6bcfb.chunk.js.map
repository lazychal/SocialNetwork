{"version":3,"sources":["components/Profile/ProfileInfo/ProfileInfo.module.css","assets/images/user.png","components/Profile/Profile.module.scss","components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileDataForm.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["module","exports","ProfileStatusWithHooks","props","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","autoFocus","onBlur","updateStatus","onChange","e","currentTarget","value","maxLength","ProfileDataFormReduxForm","reduxForm","form","handleSubmit","profile","error","onSubmit","onClick","className","s","formSummaryError","createField","Input","type","Textarea","Object","keys","contacts","map","key","contact","ProfileData","isOwner","goToEditMode","fullName","lookingForAJob","lookingForAJobDescription","aboutMe","contactTitle","contactValue","Contacts","ProfileInfo","savePhoto","saveProfile","Preloader","profileInfo","src","photos","large","userPhoto","target","files","length","initialValues","formData","then","facebook","Profile","profileWrapper","ProfileContainer","userId","this","match","params","authorisedUserId","history","push","getUserProfile","getStatus","refreshProfile","prevProps","prevState","snapshot","React","Component","compose","connect","state","profilePage","auth","isAuth","withRouter"],"mappings":"iGACAA,EAAOC,QAAU,CAAC,YAAc,iCAAiC,QAAU,6BAA6B,iBAAmB,wC,kBCD3HD,EAAOC,QAAU,83J,oBCCjBD,EAAOC,QAAU,CAAC,eAAiB,kC,+HCkDpBC,EAjDgB,SAACC,GAAU,MAMRC,oBAAS,GAND,mBAMjCC,EANiC,KAMvBC,EANuB,OAQZF,mBAASD,EAAMI,QARH,mBAQjCA,EARiC,KAQzBC,EARyB,KAYtCC,qBAAU,WACND,EAAUL,EAAMI,UACjB,CAACJ,EAAMI,SAeV,OACI,8BACOF,GACH,6BACI,qCADJ,IACkB,0BAAMK,cAhBP,WACrBJ,GAAY,KAekDH,EAAMI,QAAU,4BAIzEF,GACD,6BACI,2BAAOM,WAAW,EAAMC,OAnBT,WACvBN,GAAY,GACZH,EAAMU,aAAaN,IAiByCO,SAdzC,SAACC,GACpBP,EAAUO,EAAEC,cAAcC,QAcXA,MAAOV,EAAQW,UAAU,W,oCCJjCC,EAFkBC,YAAU,CAACC,KAAM,gBAAjBD,EA/BT,SAAC,GAAoC,IAAnCE,EAAkC,EAAlCA,aAAcC,EAAoB,EAApBA,QAASC,EAAW,EAAXA,MAE7C,OAAO,0BAAMC,SAAUH,GACnB,6BAAK,4BAAQI,QAAU,cAAlB,SACJF,GAAS,yBAAKG,UAAWC,IAAEC,kBAAmBL,GAC/C,6BACI,wCADJ,KACwBM,YAAY,YAAa,WAAYC,IAAO,KAEpE,6BACI,gDADJ,KACgCD,YAAY,GAAI,iBAAkBC,IAAO,GAAI,CAACC,KAAM,cAGpF,6BACI,wCADJ,IAEMF,YAAY,YAAa,4BAA6BG,IAAU,KAGtE,6BACI,uCADJ,IAEMH,YAAY,WAAY,UAAWG,IAAU,KAEnD,6BAEI,uCAFJ,KAEsBC,OAAOC,KAAKZ,EAAQa,UAAUC,KAAI,SAAAC,GACpD,OAAO,yBAAKA,IAAKA,EAAKX,UAAWC,IAAEW,SAC/B,2BAAID,EAAJ,KAAYR,YAAYQ,EAAK,YAAcA,EAAKP,IAAO,IAAvD,cCaVS,EAAc,SAAC,GAAsC,IAArCjB,EAAoC,EAApCA,QAASkB,EAA2B,EAA3BA,QAASC,EAAkB,EAAlBA,aACpC,OAAO,6BACDD,GAAW,6BAAK,4BAAQf,QAASgB,GAAjB,SAClB,6BACI,wCADJ,KACuBnB,EAAQoB,UAE/B,6BACI,gDADJ,KAC+BpB,EAAQqB,eAAiB,MAAQ,MAE/DrB,EAAQqB,gBACT,6BACI,wCADJ,KACuBrB,EAAQsB,2BAG/B,6BACI,uCADJ,KACsBtB,EAAQuB,SAE9B,6BAEI,uCAFJ,KAEsBZ,OAAOC,KAAKZ,EAAQa,UAAUC,KAAI,SAAAC,GACpD,OAAO,kBAAC,EAAD,CAAUA,IAAKA,EAAKS,aAAcT,EAAKU,aAAczB,EAAQa,SAASE,WAOnFW,EAAW,SAAC,GAAkC,IAAjCF,EAAgC,EAAhCA,aAAcC,EAAkB,EAAlBA,aAC7B,OAAO,6BAAK,2BAAID,GAAT,KAA6BC,IAGzBE,EAnEK,SAAC,GAAsE,IAArE3B,EAAoE,EAApEA,QAAShB,EAA2D,EAA3DA,OAAQM,EAAmD,EAAnDA,aAAc4B,EAAqC,EAArCA,QAASU,EAA4B,EAA5BA,UAAWC,EAAiB,EAAjBA,YAAiB,EAExDhD,oBAAS,GAF+C,mBAEjFC,EAFiF,KAEvEC,EAFuE,KAItF,IAAKiB,EACD,OAAO,kBAAC8B,EAAA,EAAD,MAcX,OACI,yBAAK1B,UAAWC,IAAE0B,aACd,yBAAKC,IAAKhC,EAAQiC,OAAOC,OAASC,MACjCjB,GAAW,2BAAOT,KAAK,OAAOlB,SAdX,SAACC,GACrBA,EAAE4C,OAAOC,MAAMC,QACfV,EAAUpC,EAAE4C,OAAOC,MAAM,OAavBvD,EAAW,kBAAC,EAAD,CAAiByD,cAAevC,EAASE,SAV7C,SAACsC,GACdX,EAAYW,GACPC,MAAK,WAAQ1D,GAAY,OAQgDiB,QAASA,IACjF,kBAAC,EAAD,CAAamB,aAAc,kBAAIpC,GAAY,IAAOiB,QAASA,EAASkB,QAASA,IAE/E,kBAAC,EAAD,CAAwBlC,OAAQA,EAAQM,aAAcA,IACtD,yBAAKc,UAAU,aAAf,cAAuCJ,EAAQoB,UAC/C,yBAAKhB,UAAU,YAAf,aAAqCJ,EAAQuB,SAC7C,yBAAKnB,UAAU,YAAf,aAAqCJ,EAAQa,SAAS6B,UACtD,yBAAKtC,UAAU,iCAAf,mCACkBJ,EAAQsB,6B,2BCpBvBqB,EAbC,SAAC/D,GAEb,OAAO,yBAAKwB,UAAWC,IAAEuC,gBACrB,kBAAC,EAAD,CAAa1B,QAAStC,EAAMsC,QACfU,UAAWhD,EAAMgD,UACjB5B,QAASpB,EAAMoB,QACfhB,OAAQJ,EAAMI,OACd6C,YAAajD,EAAMiD,YACnBvC,aAAcV,EAAMU,iB,+BCNnCuD,E,+KAGE,IAAIC,EAASC,KAAKnE,MAAMoE,MAAMC,OAAOH,OAChCA,IACDA,EAASC,KAAKnE,MAAMsE,mBAEhBH,KAAKnE,MAAMuE,QAAQC,KAAK,UAGhCL,KAAKnE,MAAMyE,eAAeP,GAC1BC,KAAKnE,MAAM0E,UAAUR,K,0CAKrBC,KAAKQ,mB,yCAGUC,EAAWC,EAAWC,GACjCX,KAAKnE,MAAMoE,MAAMC,OAAOH,SAAWU,EAAUR,MAAMC,OAAOH,QAC1DC,KAAKQ,mB,+BAKT,OACI,kBAAC,EAAD,iBAAaR,KAAKnE,MAAlB,CAAyBsC,SAAU6B,KAAKnE,MAAMoE,MAAMC,OAAOH,OAAQ9C,QAAS+C,KAAKnE,MAAMoB,QAC9EhB,OAAQ+D,KAAKnE,MAAMI,OAAQM,aAAcyD,KAAKnE,MAAMU,aAAcsC,UAAWmB,KAAKnE,MAAMgD,iB,GA5B9E+B,IAAMC,WAyCtBC,sBACXC,aARkB,SAACC,GAAD,MAAY,CAC9B/D,QAAS+D,EAAMC,YAAYhE,QAC3BhB,OAAQ+E,EAAMC,YAAYhF,OAC1BkE,iBAAkBa,EAAME,KAAKnB,OAC7BoB,OAAQH,EAAME,KAAKC,UAIM,CAACb,mBAAgBC,cAAWhE,iBAAcsC,cAAWC,kBAC9EsC,IAFWN,CAGbhB","file":"static/js/3.d2a6bcfb.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileInfo\":\"ProfileInfo_profileInfo__DELPI\",\"contact\":\"ProfileInfo_contact__1h2a1\",\"formSummaryError\":\"ProfileInfo_formSummaryError__36Ye6\"};","module.exports = \"data:image/png;base64,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\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileWrapper\":\"Profile_profileWrapper__3Z-Vu\"};","import React, {useEffect, useState} from 'react';\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n\r\n    // Hooks.\r\n    // useState - используем стейт реакта. Здесь мы положили значение false как\r\n    // первый элемент массива в реактовский стейт, и присвоили имя editMode.\r\n    // Вторым элементом положили ф-ю, которая меняем значение editMode, и назвали setEditMode\r\n    let [editMode, setEditMode] = useState(false);\r\n    //Второй state, для статуса.\r\n    let [status, setStatus] = useState(props.status);\r\n    \r\n    // Hook. Выполняет содержимое после отрисовки.\r\n    // [props.status] - это зависимость. Чтобы useEffect синхронизировался с этим значением.\r\n    useEffect(()=>{\r\n        setStatus(props.status)\r\n    }, [props.status]);\r\n\r\n    //Вкл/выкл - режим редактирования\r\n    const activateEditMode = () => {\r\n        setEditMode(true)\r\n    };\r\n    const deActivateEditMode = () => {\r\n        setEditMode(false);\r\n        props.updateStatus(status);\r\n    };\r\n\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.currentTarget.value);\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            { !editMode &&\r\n            <div>\r\n                <b>Status</b>:<span onDoubleClick={activateEditMode}>{props.status || 'Write your status here.'}</span>\r\n            </div>\r\n            }\r\n\r\n            {editMode &&\r\n            <div>\r\n                <input autoFocus={true} onBlur={deActivateEditMode} onChange={onStatusChange}\r\n                       value={status} maxLength='150'\r\n                />\r\n            </div>\r\n            }\r\n        </div>\r\n    )\r\n};\r\n\r\n\r\nexport default ProfileStatusWithHooks;","import React from \"react\";\r\nimport {createField, Input, Textarea} from \"../../common/FormControls/FormControls\";\r\nimport {reduxForm} from \"redux-form\";\r\nimport s from './ProfileInfo.module.css'\r\n\r\nconst ProfileDataForm = ({handleSubmit, profile, error}) => {\r\n\r\n    return <form onSubmit={handleSubmit}>\r\n        <div><button onClick={ () => {} }>Save</button></div>\r\n        {error && <div className={s.formSummaryError}>{error}</div>}\r\n        <div>\r\n            <b>Full name</b>: { createField('Full name', 'fullName', Input, [] )}\r\n        </div>\r\n        <div>\r\n            <b>Looking for a job</b>: { createField('', 'lookingForAJob', Input, [], {type: 'checkbox'} ) }\r\n        </div>\r\n\r\n        <div>\r\n            <b>My skills</b>:\r\n            { createField('My skills', 'lookingForAJobDescription', Textarea, [] ) }\r\n        </div>\r\n\r\n        <div>\r\n            <b>About me</b>:\r\n            { createField('About me', 'aboutMe', Textarea, [] ) }\r\n        </div>\r\n        <div>\r\n            {/*Object.keys деструктуризирует находящиеся в объекте объекты, в массив.*/}\r\n            <b>Contacts</b>: {Object.keys(profile.contacts).map(key => {\r\n            return <div key={key} className={s.contact}>\r\n                <b>{key}: { createField(key, 'contacts.' + key, Input, [] )} </b>\r\n            </div>\r\n        })}\r\n        </div>\r\n    </form>\r\n};\r\nconst ProfileDataFormReduxForm = reduxForm({form: 'edit-profile'})(ProfileDataForm);\r\n\r\nexport default ProfileDataFormReduxForm","import React, {useState} from 'react';\r\nimport s from './ProfileInfo.module.css'\r\nimport Preloader from \"../../common/preloader/Preloader\";\r\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\r\nimport userPhoto from \"../../../assets/images/user.png\";\r\nimport ProfileDataForm from \"./ProfileDataForm\";\r\n\r\nconst ProfileInfo = ({profile, status, updateStatus, isOwner, savePhoto, saveProfile}) => {\r\n\r\n    let [editMode, setEditMode] = useState(false);\r\n\r\n    if (!profile) {\r\n        return <Preloader/>\r\n    }\r\n\r\n    const onMainPhotoSelected = (e) => {\r\n        if (e.target.files.length) {\r\n            savePhoto(e.target.files[0])\r\n        }\r\n    };\r\n    const onSubmit = (formData) => {\r\n        saveProfile(formData)\r\n            .then(() => { setEditMode(false) });\r\n\r\n    };\r\n\r\n    return (\r\n        <div className={s.profileInfo}>\r\n            <img src={profile.photos.large || userPhoto}/>\r\n            {isOwner && <input type='file' onChange={onMainPhotoSelected}/>}\r\n            { editMode ? <ProfileDataForm initialValues={profile} onSubmit={onSubmit} profile={profile}/>\r\n            : <ProfileData goToEditMode={()=>setEditMode(true)} profile={profile} isOwner={isOwner}/> }\r\n\r\n            <ProfileStatusWithHooks status={status} updateStatus={updateStatus}/>\r\n            <div className='full_name'>Full Name: {profile.fullName}</div>\r\n            <div className='about_me'>About Me: {profile.aboutMe}</div>\r\n            <div className='contacts'>Contacts: {profile.contacts.facebook}</div>\r\n            <div className='looking-for-a-job-description'>Looking for a job.\r\n                Description: {profile.lookingForAJobDescription}</div>\r\n        </div>\r\n    )\r\n};\r\n\r\nconst ProfileData = ({profile, isOwner, goToEditMode}) => {\r\n    return <div>\r\n        { isOwner && <div><button onClick={goToEditMode}>Edit</button></div> }\r\n        <div>\r\n            <b>Full name</b>: {profile.fullName}\r\n        </div>\r\n        <div>\r\n            <b>Looking for a job</b>: {profile.lookingForAJob ? 'Yes' : 'No'}\r\n        </div>\r\n        {profile.lookingForAJob &&\r\n        <div>\r\n            <b>My skills</b>: {profile.lookingForAJobDescription}\r\n        </div>\r\n        }\r\n        <div>\r\n            <b>About me</b>: {profile.aboutMe}\r\n        </div>\r\n        <div>\r\n            {/*Object.keys деструктуризирует находящиеся в объекте объекты, в массив.*/}\r\n            <b>Contacts</b>: {Object.keys(profile.contacts).map(key => {\r\n            return <Contacts key={key} contactTitle={key} contactValue={profile.contacts[key]}/>\r\n        })}\r\n        </div>\r\n    </div>\r\n};\r\n\r\n\r\nconst Contacts = ({contactTitle, contactValue}) => {\r\n    return <div><b>{contactTitle}</b>: {contactValue}</div>\r\n};\r\n\r\nexport default ProfileInfo;","import React from 'react';\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport MyPostsContainer from \"../NewsFeed/MyPosts/MyPostsContainer\";\r\nimport s from './Profile.module.scss'\r\n\r\nconst Profile = (props) => {\r\n\r\n    return <div className={s.profileWrapper}>\r\n        <ProfileInfo isOwner={props.isOwner}\r\n                     savePhoto={props.savePhoto}\r\n                     profile={props.profile}\r\n                     status={props.status}\r\n                     saveProfile={props.saveProfile}\r\n                     updateStatus={props.updateStatus}/>\r\n        {/*<MyPostsContainer/>*/}\r\n    </div>\r\n};\r\n\r\nexport default Profile;","import React from 'react';\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {getStatus, getUserProfile, savePhoto, saveProfile, updateStatus} from \"../../redux/profile-reducer\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {compose} from \"redux\";\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n    refreshProfile () {\r\n        let userId = this.props.match.params.userId;\r\n        if (!userId) {\r\n            userId = this.props.authorisedUserId;\r\n            if (!userId){\r\n                this.props.history.push('/login')\r\n            }\r\n        }\r\n        this.props.getUserProfile(userId);\r\n        this.props.getStatus(userId);\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.refreshProfile()\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (this.props.match.params.userId !== prevProps.match.params.userId) {\r\n            this.refreshProfile()\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Profile {...this.props} isOwner={!this.props.match.params.userId} profile={this.props.profile}\r\n                     status={this.props.status} updateStatus={this.props.updateStatus} savePhoto={this.props.savePhoto}\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    authorisedUserId: state.auth.userId,\r\n    isAuth: state.auth.isAuth,\r\n});\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {getUserProfile, getStatus, updateStatus, savePhoto, saveProfile}),\r\n    withRouter,\r\n)(ProfileContainer);"],"sourceRoot":""}